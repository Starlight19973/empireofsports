# Empire of Sports 2.0 - Claude Code Project Context

## О проекте

**Empire of Sports 2.0** - современная реинкарнация первой в мире мультиспортивной MMORPG, созданная с использованием AI-инструментов и современных технологий.

### Оригинальная игра
- Разработана французской студией F4 (Париж)
- Запущена в 2009, закрыта в 2016
- Бюджет: ~30 млн евро
- 9 видов спорта: футбол, теннис, баскетбол, лыжи, бобслей, легкая атлетика, танцы, силовые тренировки, стрельба

### Наша версия (2025)
- **Движок:** Unity (установлен на Windows)
- **IDE:** VS Code с расширениями для Unity и C#
- **Первый спорт:** Теннис (как MVP)
- **Разработчик:** Программист, новичок в Unity
- **Цель:** Создать современную версию с минимальным бюджетом ($50K-100K) используя AI

---

## Структура проекта

```
C:\Empire  of sports\
├── docs/                                    # Документация
│   ├── UNITY_SETUP_WINDOWS.md              # Установка Unity на Windows
│   ├── EMPIRE_OF_SPORTS_RESEARCH.md        # Исследование оригинала + AI-инструменты
│   ├── EMPIRE_OF_SPORTS_SERVER_INFRASTRUCTURE.md  # Серверы и инфраструктура
│   ├── EMPIRE_OF_SPORTS_QUICKSTART.md      # Быстрый старт + полный код тенниса
│   └── GETTING_STARTED_VSCODE.md           # Начало работы в VS Code
├── claude.md                                # Этот файл - контекст для Claude Code
└── [Unity проект будет здесь после создания]
```

---

## Технологический стек

### Игровой движок
- **Unity** (рекомендуется Unity 6 LTS или Unity 2022.3 LTS)
- Built-in Render Pipeline или URP

### Язык
- **C#** (Unity scripting)

### Networking
- **Photon Fusion** - для multiplayer (free tier: 100 CCU)
- **PlayFab** - Backend as a Service (free до 100K пользователей)

### AI-инструменты для ассетов
- **Meshy.ai** - 3D модели из текста (200 free credits/мес)
- **Tripo3D** - Text-to-3D (150 free credits/мес)
- **Mixamo** - бесплатные персонажи + анимации
- **Move AI / Remocapp** - motion capture из видео

### Инфраструктура (на старте)
- **Hetzner/OVH** - VPS для тестовых серверов (~$50/мес)
- **Cloudflare Free** - DDoS защита + CDN
- **PostgreSQL** - основная БД
- **Redis** - кэш и real-time данные

---

## Текущий статус

### Что готово
- [x] Вся документация изучена
- [x] Unity установлен на Windows
- [x] VS Code настроен с расширениями C# и Unity
- [x] Git репозиторий инициализирован (предположительно)
- [x] Claude Code установлен

### Что нужно сделать
- [ ] Создать Unity проект "EmpireOfSports"
- [ ] Настроить структуру папок (Scripts, Prefabs, Models, etc.)
- [ ] Установить Input System пакет
- [ ] Создать первый скрипт HelloWorld.cs
- [ ] Начать работу над теннисом (см. roadmap ниже)

---

## Roadmap: Tennis MVP (первые 3 месяца)

### Фаза 1: Прототип (Месяц 1)

#### Неделя 1: Базовая сцена
```
[ ] Создать сцену TennisCourt.unity
[ ] Реализовать CourtManager.cs (размеры корта, границы)
[ ] Создать визуальную разметку корта
[ ] Добавить сетку (net)
```

#### Неделя 2: Физика мяча
```
[ ] Создать TennisBall.cs с реалистичной физикой
    - Масса: 57г, радиус: 3.35см
    - Коэффициент отскока: 0.75
    - Эффект Магнуса (spin)
[ ] Настроить Physics Materials
[ ] Протестировать отскоки от корта
```

#### Неделя 3: Управление игроком
```
[ ] Скачать персонаж с Mixamo
[ ] Импортировать в Unity
[ ] Создать PlayerController.cs
    - Движение WASD
    - Спринт
    - Поворот к мячу
[ ] Настроить Input System
```

#### Неделя 4: Первый удар
```
[ ] Загрузить анимации ударов (Mixamo)
[ ] Реализовать механику удара по мячу
[ ] Система зарядки силы удара
[ ] Базовая траектория полёта мяча
```

### Фаза 2: AI и геймплей (Месяц 2)

#### Недели 5-6: AI-противник
```
[ ] Создать AIOpponent.cs
    - Предсказание траектории мяча
    - Навигация к позиции
    - Автоматические удары
[ ] Настроить уровни сложности
[ ] Тестирование баланса
```

#### Недели 7-8: Система счёта
```
[ ] Реализовать ScoreManager.cs
    - Теннисные правила (0, 15, 30, 40, deuce)
    - Подсчёт геймов и сетов
[ ] UI для отображения счёта
[ ] Логика победы/поражения
```

### Фаза 3: Multiplayer (Месяц 3)

#### Недели 9-10: Photon интеграция
```
[ ] Зарегистрироваться в Photon (free tier)
[ ] Интегрировать Photon Fusion
[ ] NetworkManager.cs + PlayerSync.cs
[ ] Синхронизация позиций игроков
[ ] Синхронизация мяча
```

#### Недели 11-12: Полировка MVP
```
[ ] UI/UX (главное меню, матч, результаты)
[ ] Звуковые эффекты (удары, отскоки)
[ ] Базовая кастомизация персонажа
[ ] Тестирование с друзьями
[ ] Сбор фидбека
```

---

## Готовый код (доступен в документации)

Все эти скрипты полностью написаны и описаны в `docs/EMPIRE_OF_SPORTS_QUICKSTART.md`:

1. **CourtManager.cs** - управление кортом, размеры, границы
2. **TennisBall.cs** - физика мяча, spin, эффект Магнуса
3. **PlayerController.cs** - управление, движение, удары
4. **AIOpponent.cs** - AI с предсказанием траектории
5. **ScoreManager.cs** - теннисная система счёта

Можно использовать как reference или копировать напрямую.

---

## Бюджет первых 3 месяцев

| Статья | Стоимость/мес | Итого 3 мес |
|--------|---------------|-------------|
| Unity | Бесплатно | $0 |
| Photon (100 CCU) | Бесплатно | $0 |
| PlayFab (до 100K) | Бесплатно | $0 |
| Meshy.ai Pro | $60 | $180 |
| Move AI / Remocapp | ~$50 | $150 |
| Тестовый сервер | $50-100 | $150-300 |
| Домен + хостинг | $15 | $45 |
| **ИТОГО** | | **$525-675** |

---

## Как Claude Code может помочь

### 1. Обучение Unity
```
Примеры промптов:
- Объясни как работает MonoBehaviour lifecycle
- Что такое Prefabs и как их использовать?
- Разница между Update() и FixedUpdate()
- Как работает Input System в Unity?
```

### 2. Генерация кода
```
Примеры промптов:
- Создай скрипт для камеры, следующей за игроком
- Напиши UI-скрипт для отображения счёта в теннисе
- Реализуй систему паузы с меню
```

### 3. Отладка
```
Примеры промптов:
- Мяч улетает слишком высоко, вот код TennisBall.cs [код]
- PlayerController не поворачивается к мячу правильно [код]
- Как исправить jittering при синхронизации в Photon?
```

### 4. Оптимизация
```
Примеры промптов:
- Посмотри PlayerController.cs и предложи оптимизации
- Как уменьшить GC allocations в скрипте мяча?
- Лучшие практики для Unity networking
```

### 5. Архитектура
```
Примеры промптов:
- Как организовать скрипты для мультиспортивной игры?
- Какой паттерн использовать для GameManager?
- Как разделить логику клиента и сервера в Photon?
```

---

## Полезные ресурсы

### Документация (в папке docs/)
1. **UNITY_SETUP_WINDOWS.md** - пошаговая установка Unity, Rider, Claude Code
2. **EMPIRE_OF_SPORTS_RESEARCH.md** - исследование оригинала, бюджеты, AI-инструменты
3. **EMPIRE_OF_SPORTS_SERVER_INFRASTRUCTURE.md** - серверы, хостинг, безопасность
4. **EMPIRE_OF_SPORTS_QUICKSTART.md** - быстрый старт, полный код тенниса
5. **GETTING_STARTED_VSCODE.md** - начало работы в VS Code с Unity

### Внешние ресурсы
- [Unity Manual](https://docs.unity3d.com/Manual/)
- [Unity Scripting API](https://docs.unity3d.com/ScriptReference/)
- [Mixamo](https://www.mixamo.com/) - бесплатные персонажи + анимации
- [Photon Fusion Docs](https://doc.photonengine.com/fusion/)
- [PlayFab Docs](https://learn.microsoft.com/gaming/playfab/)

### Сообщества
- r/Unity3D - Reddit
- Unity Forum - официальный форум
- Brackeys YouTube - туториалы

---

## Частые вопросы для Claude Code

### Unity специфика
```
Q: Как прикрепить скрипт к GameObject?
A: Перетащите .cs файл на объект в Hierarchy или используйте Add Component

Q: Почему изменения в коде не применяются?
A: Сохраните файл (Ctrl+S), вернитесь в Unity, дождитесь компиляции

Q: Как дебажить в VS Code?
A: Установите "Debugger for Unity" extension, поставьте breakpoint, F5
```

### Теннис геймплей
```
Q: Как определить, попал ли мяч в корт или аут?
A: Используйте colliders с тегами "Court" и "OutOfBounds"

Q: Как реализовать разные типы ударов (forehand, backhand)?
A: Используйте Animation Layers или Blend Trees в Animator

Q: Как сделать realistic ball physics?
A: Настройте Rigidbody (масса, drag), Physics Materials (bounciness)
```

### Networking
```
Q: Как синхронизировать мяч в Photon?
A: Используйте NetworkRigidbody или NetworkTransform компоненты

Q: Как избежать лагов при игре 1v1?
A: Используйте client-side prediction + server reconciliation

Q: Как делать matchmaking?
A: Используйте PlayFab Matchmaking API + Photon rooms
```

---

## Метрики успеха

### Через 1 месяц (MVP прототип)
- [ ] Можно играть в теннис против AI
- [ ] Мяч физически реалистичен
- [ ] Персонаж анимирован
- [ ] Есть счёт
- [ ] Визуально выглядит "не ужасно"

### Через 3 месяца (Alpha)
- [ ] Можно играть 1v1 онлайн через Photon
- [ ] Есть простая система прогрессии
- [ ] UI/UX выглядит прилично
- [ ] 5+ человек протестировали и дали фидбек
- [ ] Нет критических багов

### Через 6 месяцев (Beta)
- [ ] 2-3 вида спорта
- [ ] Система кастомизации персонажа
- [ ] Matchmaking работает
- [ ] Closed beta с 50-100 игроками
- [ ] Первые метрики retention

---

## Правила работы с проектом

### Git workflow
```bash
# Коммиты после каждой значимой фичи
git add .
git commit -m "feat: add tennis ball physics with Magnus effect"
git push
```

### Именование
```
- Скрипты: PascalCase (PlayerController.cs)
- Переменные: camelCase (moveSpeed)
- Константы: UPPER_CASE (MAX_SPEED)
- Папки: PascalCase (Scripts/Player/)
```

### Комментарии
```csharp
// Комментируйте только сложную логику
// Unity-специфичные вещи можно не комментировать (Start, Update)
// Используйте TODO для будущих задач

// TODO: Add spin visualization
// FIXME: Ball sometimes goes through net
```

---

## Первый запуск (чек-лист)

```
Начните с этого:

[ ] Создайте Unity проект "EmpireOfSports"
[ ] Откройте проект в VS Code
[ ] Создайте структуру папок (Scripts, Prefabs, etc.)
[ ] Создайте HelloWorld.cs и проверьте что всё работает
[ ] Прочитайте docs/EMPIRE_OF_SPORTS_QUICKSTART.md (Шаг 1: Создание корта)
[ ] Спросите Claude Code: "Я готов создать теннисный корт. С чего начать?"
```

---

## Контекст для Claude Code

**Когда разработчик пишет в Claude Code, помни:**
- Он **новичок в Unity**, но **опытный программист**
- Использует **VS Code** (не Rider, не Visual Studio)
- Работает на **Windows**
- Проект на **Unity**, язык **C#**
- Цель: **Создать MVP тенниса** за 3 месяца
- Есть документация в `docs/` - можно ссылаться
- Готовый код есть в `EMPIRE_OF_SPORTS_QUICKSTART.md` - можно использовать

**Стиль ответов:**
- Объяснять Unity-специфичные концепции
- Давать конкретный код, готовый к использованию
- Ссылаться на документацию в `docs/` когда релевантно
- Предлагать best practices для Unity
- Помнить про ограничения бюджета (используем free/cheap инструменты)

---

## Быстрые команды

```bash
# Открыть проект в VS Code
cd "C:\Empire  of sports"
code .

# Запустить Claude Code
claude

# Инициализировать Git (если ещё не сделано)
git init
git add .
git commit -m "Initial commit"

# Проверить версию Unity (из командной строки Unity Editor)
# В Unity: Help → About Unity
```

---

**Проект начат:** декабрь 2025
**Цель:** Создать современную версию Empire of Sports с минимальным бюджетом
**Статус:** Ready to start tennis prototype

Задавайте вопросы - я помогу на каждом этапе!
